<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragmentos/base-front}">
<head>
    <title>Pasarela de pago</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/main.css"
          th:href="@{/css/main.css}"/>
</head>
<body>


<div layout:fragment="content" class="contenido">

    <h2 class="titulo" > Pasarela de pago </h2>

    <div th:if="${error}"> No se ha podido realizar el pago porque se han acabado las plazas para esta actividad o el número de plazas que intentas reservar sobrepasa el límite especificado por el monitor.</div>
    <div th:unless="${error}">
        <form class="form-horizontal" action="#" enctype="multipart/form-data" th:action="@{/reserva/pasarelaPago/{idActividad}(idActividad=${reserva.idActividad})}"
              th:object="${infopago}" method="post">
            <div class="form-group row">
                <label class="control-label col-sm-2" >Titular</label>
                <div class="col-sm-4">
                    <input class="form-control " maxlength="40" type="text" th:field="*{titular}" />
                    <p class="alerta" th:if="${#fields.hasErrors('titular')}" th:errors="*{titular}"></p>
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2" >Número tarjeta</label>
                <div class="col-sm-4">
                    <input class="form-control  " type="text" maxlength="20" th:field="*{numeroTarjeta}" />
                    <p class="alerta" th:if="${#fields.hasErrors('numeroTarjeta')}" th:errors="*{numeroTarjeta}"></p>
                </div>
            </div>

            <div class="form-group row">
                <label class="control-label col-sm-2" >Código secreto</label>
                <div class="col-sm-4">
                    <input class="form-control" type="password" maxlength="20" th:field="*{codigoSecreto}" />
                    <p class="alerta" th:if="${#fields.hasErrors('codigoSecreto')}" th:errors="*{codigoSecreto}"></p>
                </div>
            </div>

            <div th:text=" 'El precio total a pagar es: <b>' + ${reserva.precioTotal} + '€</b>'"></div>

            <div class="form-group row">
                <div class="col-sm-offset-2 col-sm-4">
                    <button type="submit" class="btn btn-primary">Realizar pago</button>
                </div>
            </div>

        </form>
    </div>
</div>

</body>
</html>